# Cloud Scheduler Configuration
# Apply with: gcloud scheduler jobs create http [JOB_NAME] --schedule="..." --uri="https://[REGION]-run.googleapis.com/apis/run.googleapis.com/v1/namespaces/[PROJECT_ID]/jobs/[JOB_NAME]:run"

# 1. Risk Reset (Daily 9:30 AM ET)
# Schedule: 30 13 * * * (UTC - assuming ET is UTC-4/5)
name: trigger-trade-risk-reset
schedule: "30 13 * * *"
httpTarget:
  uri: https://us-central1-run.googleapis.com/apis/run.googleapis.com/v1/namespaces/PROJECT_ID/jobs/trade-risk-reset:run
  httpMethod: POST
  oauthToken:
    serviceAccountEmail: cloud-scheduler-sa@PROJECT_ID.iam.gserviceaccount.com

# 2. Core Strategy (Daily 10:00 AM ET)
# Schedule: 0 14 * * * (UTC)
name: trigger-trade-core
schedule: "0 14 * * *"
httpTarget:
  uri: https://us-central1-run.googleapis.com/apis/run.googleapis.com/v1/namespaces/PROJECT_ID/jobs/trade-core:run
  httpMethod: POST
  oauthToken:
    serviceAccountEmail: cloud-scheduler-sa@PROJECT_ID.iam.gserviceaccount.com

# 3. Growth Strategy (Mondays 9:35 AM ET)
# Schedule: 35 13 * * 1 (UTC)
name: trigger-trade-growth
schedule: "35 13 * * 1"
httpTarget:
  uri: https://us-central1-run.googleapis.com/apis/run.googleapis.com/v1/namespaces/PROJECT_ID/jobs/trade-growth:run
  httpMethod: POST
  oauthToken:
    serviceAccountEmail: cloud-scheduler-sa@PROJECT_ID.iam.gserviceaccount.com

# 4. IPO Strategy (Wednesdays 10:00 AM ET)
# Schedule: 0 14 * * 3 (UTC)
name: trigger-trade-ipo-check
schedule: "0 14 * * 3"
httpTarget:
  uri: https://us-central1-run.googleapis.com/apis/run.googleapis.com/v1/namespaces/PROJECT_ID/jobs/trade-ipo-check:run
  httpMethod: POST
  oauthToken:
    serviceAccountEmail: cloud-scheduler-sa@PROJECT_ID.iam.gserviceaccount.com
