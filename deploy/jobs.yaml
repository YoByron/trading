apiVersion: run.googleapis.com/v1
kind: Job
metadata:
  name: trade-core
  annotations:
    run.googleapis.com/launch-stage: BETA
spec:
  template:
    spec:
      template:
        spec:
          containers:
          - image: gcr.io/PROJECT_ID/trading-bot:latest
            args:
            - "scripts/autonomous_trader.py"
            - "--strategy"
            - "core"
            resources:
              limits:
                memory: 1Gi
                cpu: 1000m
            env:
            # Secrets should be mounted from Secret Manager in production
            - name: PAPER_TRADING
              value: "true"
          timeoutSeconds: 600
---
apiVersion: run.googleapis.com/v1
kind: Job
metadata:
  name: trade-risk-reset
  annotations:
    run.googleapis.com/launch-stage: BETA
spec:
  template:
    spec:
      template:
        spec:
          containers:
          - image: gcr.io/PROJECT_ID/trading-bot:latest
            args:
            - "scripts/autonomous_trader.py"
            - "--task"
            - "risk-reset"
            resources:
              limits:
                memory: 512Mi
                cpu: 1000m
          timeoutSeconds: 300
---
apiVersion: run.googleapis.com/v1
kind: Job
metadata:
  name: trade-growth
  annotations:
    run.googleapis.com/launch-stage: BETA
spec:
  template:
    spec:
      template:
        spec:
          containers:
          - image: gcr.io/PROJECT_ID/trading-bot:latest
            args:
            - "scripts/autonomous_trader.py"
            - "--strategy"
            - "growth"
            resources:
              limits:
                memory: 1Gi
                cpu: 1000m
          timeoutSeconds: 600
---
apiVersion: run.googleapis.com/v1
kind: Job
metadata:
  name: trade-ipo-check
  annotations:
    run.googleapis.com/launch-stage: BETA
spec:
  template:
    spec:
      template:
        spec:
          containers:
          - image: gcr.io/PROJECT_ID/trading-bot:latest
            args:
            - "scripts/autonomous_trader.py"
            - "--strategy"
            - "ipo"
            resources:
              limits:
                memory: 1Gi
                cpu: 1000m
          timeoutSeconds: 600
