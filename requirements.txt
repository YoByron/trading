# Trading System - Minimal Production Dependencies
# Optimized for fast CI/CD installation (<2 minutes)
# Last updated: 2025-11-24
#
# Python Version Requirement: >=3.9,<3.15
# pandas 2.3.3 is compatible with Python 3.9-3.14
# Python 3.15+ will require pandas upgrade when released

# Trading APIs
alpaca-py==0.43.2  # Modern SDK (replaces deprecated alpaca-trade-api) - websockets>=10.4
openai==1.109.1

# Data Processing
pandas==2.3.3
numpy>=1.26.0,<3.0.0  # pandas 2.3.3 requires numpy>=1.26.0 for Python 3.12+
yfinance==0.2.66  # Latest version with websocket support (compatible with alpaca-py)
alpha-vantage==2.3.1

# Scheduling
schedule==1.2.0

# Web Scraping & APIs
requests==2.32.5
beautifulsoup4>=4.12.0
lxml>=5.0.0
praw==7.8.1
feedparser==6.0.10
PyPDF2>=3.0.0  # PDF parsing for Berkshire letters

# YouTube Monitoring
youtube-transcript-api==1.2.3
# Pin to a known, published release to avoid install failures
yt-dlp==2024.10.22

# Configuration
python-dotenv==1.2.1
pydantic-settings>=2.10.1,<3.0.0
PyYAML>=6.0.0,<8.0.0

# Testing
pytest==7.4.0
pytest-asyncio==0.21.1
pytest-cov==4.1.0
pytest-timeout==2.2.0  # Prevent hanging tests in CI

# Utilities
python-dateutil==2.9.0.post0
pytz==2023.3
loguru==0.7.2
httpx>=0.27.0,<0.28.0  # Pin to avoid 'proxies' arg removal in 0.28+
anthropic>=0.73.0,<1.0.0
google-generativeai>=0.8.0,<1.0.0  # Required for gemini_agent and gemini3_langgraph_agent

# Deep Learning (Phase 1: Elite AI Trader)
torch>=2.0.0,<3.0.0  # PyTorch for LSTM-PPO ensemble (primary framework)
scikit-learn>=1.3.0,<2.0.0  # Feature engineering and preprocessing
# Note: TensorFlow optional - PyTorch is primary framework for LSTM-PPO

# DeepAgents Integration (optional extra - install via `pip install ".[deepagents]"`)
langchain>=1.0.0
langchain-core>=1.0.0
langchain-anthropic>=1.0.0
langchain-community>=0.4.0
langgraph>=1.0.0
langsmith>=0.1.0  # LangSmith monitoring for RL training

# Dashboard
streamlit>=1.29.0
matplotlib>=3.7.0  # Chart generation for world-class dashboard

# Security & Pre-commit
detect-secrets>=1.5.0  # Entropy-based secret detection for pre-commit hooks

black>=24.3.0,<26.0.0  # Fixed ReDoS vulnerability (CVE-2024-*), using latest stable
flake8==7.0.0
bandit==1.7.7
pre-commit
sentence-transformers>=2.2.0
