repos:
  - repo: local
    hooks:
      - id: file-organization
        name: Check File Organization (Auto-Fix)
        entry: python3 .claude/skills/precommit_hygiene/scripts/precommit_hygiene.py check_file_organization --fix
        language: system
        pass_filenames: false

      - id: python-black
        name: Python Black Formatting
        entry: black
        language: system
        types: [python]

      - id: python-flake8
        name: Python Flake8 Linting
        entry: flake8
        language: system
        types: [python]
        args: [--max-line-length=100, --ignore=E203,W503]

      - id: python-mypy
        name: Python Type Checking
        entry: mypy
        language: system
        types: [python]
        args: [--ignore-missing-imports]

      - id: detect-secrets
        name: Detect Secrets (Entropy Analysis)
        entry: detect-secrets-hook
        language: system
        args: ['--baseline', '.secrets.baseline']
        pass_filenames: true

      - id: workflow-security
        name: Check Workflow Security
        entry: python3 .claude/skills/precommit_hygiene/scripts/precommit_hygiene.py check_workflow_security
        language: system
        types: [yaml]
        files: '\.github/workflows/.*\.ya?ml$'
