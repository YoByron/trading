---
id: ll_169
title: /bin/bash Buying Power from Stale Pending Orders
severity: HIGH
date: 2026-01-13
category: trading
tags: [buying-power, orders, automation]
---

## Problem
Alpaca Paper Trading account showed $0 buying power despite having $4,955.91 cash.

## Root Cause
A pending sell order for SOFI260206P00024000 (limit $0.79) was blocking all buying power.
The cancel_stale_orders.py script had MAX_ORDER_AGE_HOURS=4, but the order was less than 4 hours old.

## Solution
Changed MAX_ORDER_AGE_HOURS from 4 to 0 to cancel ALL pending orders immediately.
This restored full buying power.

## Lesson
1. Pending orders consume buying power as collateral
2. Cancel ALL orders when buying power is critical
3. Monitor buying power after order placement
4. CEO Directive: "We are not allowed to lose money" - protect capital first

## Prevention
- Run cancel-stale-orders workflow daily before trading
- Monitor buying power in Alpaca dashboard
- Set MAX_ORDER_AGE_HOURS=0 when capital is constrained
