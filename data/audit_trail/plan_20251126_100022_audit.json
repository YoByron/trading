{
  "plan_id": "plan_20251126_100022",
  "timestamp": "2025-11-26T10:01:47.856727",
  "plan": {
    "plan_id": "plan_20251126_100022",
    "timestamp": "2025-11-26T10:00:22.377576",
    "symbols": [
      "SPY",
      "QQQ"
    ],
    "phases": {
      "initialize": {
        "description": "Initialize trading cycle",
        "agents": [
          "claude_skills"
        ],
        "tasks": [
          "Load portfolio state",
          "Check market hours",
          "Validate account status"
        ],
        "status": "completed"
      },
      "data_collection": {
        "description": "Collect market data and signals",
        "agents": [
          "claude_skills",
          "langchain",
          "gemini"
        ],
        "tasks": [
          "Fetch price data",
          "Retrieve news sentiment",
          "Gather social signals",
          "Load alternative data"
        ],
        "status": "completed"
      },
      "analysis": {
        "description": "Multi-agent analysis",
        "agents": [
          "langchain",
          "gemini",
          "mcp",
          "ml_model",
          "gamma_agent"
        ],
        "tasks": [
          "Technical analysis",
          "Fundamental analysis",
          "Sentiment analysis",
          "Ensemble voting"
        ],
        "status": "completed"
      },
      "risk_assessment": {
        "description": "Risk validation",
        "agents": [
          "claude_skills"
        ],
        "tasks": [
          "Portfolio health check",
          "Position sizing",
          "Stop-loss calculation",
          "Circuit breaker check"
        ],
        "status": "completed"
      },
      "execution": {
        "description": "Trade execution",
        "agents": [
          "go_adk",
          "mcp"
        ],
        "tasks": [
          "Order placement",
          "Execution monitoring",
          "Anomaly detection"
        ],
        "status": "completed"
      },
      "audit": {
        "description": "Post-trade audit",
        "agents": [
          "claude_skills"
        ],
        "tasks": [
          "Performance tracking",
          "Trade logging",
          "Git commit"
        ],
        "status": "pending"
      }
    },
    "decisions": [],
    "context": {},
    "status": "planning",
    "git_commit": null
  },
  "execution_results": {
    "plan_id": "plan_20251126_100022",
    "phases": {
      "initialize": {
        "phase": "initialize",
        "tasks": {
          "Load portfolio state": {
            "success": true,
            "data": {
              "overall_status": "HEALTHY",
              "account_equity": 100005.48,
              "total_pl": 5.4799999999959255,
              "total_pl_pct": 0.01,
              "daily_pl": 0.0,
              "daily_pl_pct": 0.0,
              "max_drawdown": 5.0,
              "current_drawdown": 0.0,
              "position_count": 0,
              "cash_percentage": 100.0,
              "buying_power": 200010.96,
              "risk_score": 0.0,
              "warnings": []
            }
          },
          "Check market hours": {
            "success": true,
            "data": {
              "SPY": []
            }
          }
        },
        "agent_results": []
      },
      "data_collection": {
        "phase": "data_collection",
        "data_sources": {
          "SPY_price": {
            "success": true,
            "data": {
              "SPY": []
            }
          },
          "QQQ_price": {
            "success": true,
            "data": {
              "QQQ": []
            }
          }
        },
        "agent_results": []
      },
      "analysis": {
        "phase": "analysis",
        "agent_results": [],
        "ensemble_vote": {}
      },
      "risk_assessment": {
        "phase": "risk_assessment",
        "should_halt": false,
        "risk_checks": {
          "portfolio_health": {
            "success": true,
            "data": {
              "overall_status": "HEALTHY",
              "account_equity": 100005.48,
              "total_pl": 5.4799999999959255,
              "total_pl_pct": 0.01,
              "daily_pl": 0.0,
              "daily_pl_pct": 0.0,
              "max_drawdown": 5.0,
              "current_drawdown": 0.0,
              "position_count": 0,
              "cash_percentage": 100.0,
              "buying_power": 200010.96,
              "risk_score": 0.0,
              "warnings": []
            }
          },
          "SPY_position": {
            "success": true,
            "symbol": "SPY",
            "recommendations": {
              "primary_method": {
                "method": "volatility_adjusted",
                "position_size_dollars": 1000.05,
                "position_size_shares": null,
                "rationale": "Using volatility_adjusted method"
              },
              "alternative_methods": {
                "fixed_percentage": {
                  "position_size_dollars": 1000.05,
                  "position_size_shares": null
                },
                "kelly_criterion": {
                  "position_size_dollars": 6250.34,
                  "position_size_shares": null,
                  "kelly_fraction": 0.25
                },
                "atr_based": {
                  "position_size_dollars": 1000.05,
                  "position_size_shares": null
                }
              }
            },
            "risk_metrics": {
              "dollar_risk": 1000.05,
              "risk_pct": 1.0,
              "position_value_pct": 1.0,
              "estimated_volatility": 0.2,
              "max_loss_at_stop": 1000.05
            },
            "constraints": {
              "max_position_size_dollars": 10000.548,
              "max_position_size_pct": 10.0,
              "min_position_size_dollars": 100.0,
              "constrained": false
            },
            "validation": {
              "within_risk_limits": true,
              "sufficient_buying_power": true,
              "liquidity_adequate": true
            }
          },
          "QQQ_position": {
            "success": true,
            "symbol": "QQQ",
            "recommendations": {
              "primary_method": {
                "method": "volatility_adjusted",
                "position_size_dollars": 1000.05,
                "position_size_shares": null,
                "rationale": "Using volatility_adjusted method"
              },
              "alternative_methods": {
                "fixed_percentage": {
                  "position_size_dollars": 1000.05,
                  "position_size_shares": null
                },
                "kelly_criterion": {
                  "position_size_dollars": 6250.34,
                  "position_size_shares": null,
                  "kelly_fraction": 0.25
                },
                "atr_based": {
                  "position_size_dollars": 1000.05,
                  "position_size_shares": null
                }
              }
            },
            "risk_metrics": {
              "dollar_risk": 1000.05,
              "risk_pct": 1.0,
              "position_value_pct": 1.0,
              "estimated_volatility": 0.2,
              "max_loss_at_stop": 1000.05
            },
            "constraints": {
              "max_position_size_dollars": 10000.548,
              "max_position_size_pct": 10.0,
              "min_position_size_dollars": 100.0,
              "constrained": false
            },
            "validation": {
              "within_risk_limits": true,
              "sufficient_buying_power": true,
              "liquidity_adequate": true
            }
          }
        }
      },
      "execution": {
        "phase": "execution",
        "orders": [],
        "decision": "NO_TRADE"
      }
    },
    "agent_results": [],
    "final_decision": "NO_TRADE",
    "errors": []
  }
}
