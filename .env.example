# API Keys
ALPACA_API_KEY=your_alpaca_api_key_here
ALPACA_SECRET_KEY=your_alpaca_secret_key_here
OPENROUTER_API_KEY=your_openrouter_api_key_here

# Tradier (Tertiary Failover Broker)
# Get credentials: https://developer.tradier.com/
# 1. Create a Tradier account
# 2. Go to API Access in account settings
# 3. Copy Account Number and API Key below
TRADIER_ACCOUNT_NUMBER=your_tradier_account_number
TRADIER_API_KEY=your_tradier_api_key

# Kalshi (CFTC-Regulated Prediction Markets)
# Get credentials: https://kalshi.com/ (Settings > API Access)
# Kalshi offers trading on binary outcomes: elections, weather, crypto, sports
# Demo API: https://demo-api.kalshi.co/trade-api/v2
# Prod API: https://trading-api.kalshi.com/trade-api/v2
KALSHI_EMAIL=your_kalshi_email
KALSHI_PASSWORD=your_kalshi_password
# Optional: Use API key authentication instead of email/password
# KALSHI_API_KEY=your_kalshi_api_key_id
# KALSHI_PRIVATE_KEY_PATH=/path/to/private_key.pem
KALSHI_PAPER=true  # Use demo API for safety (default)

# Prediction Markets Strategy (Tier 6)
# Runs on both weekdays (after equity strategies) and weekends (alongside crypto)
ENABLE_PREDICTION_MARKETS=true  # Enable/disable prediction markets trading
PREDICTION_DAILY_BUDGET=5.0  # Daily budget in USD for prediction markets

# Optional: enable DeepSeek via OpenRouter (adds deepseek/deepseek-r1 to LLM council)
OPENROUTER_ENABLE_DEEPSEEK=false
# OPENROUTER_DEEPSEEK_MODEL=deepseek/deepseek-r1
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here

# LLM Observability - Helicone (recommended for OpenRouter)
# Get free API key: https://helicone.ai (sign up, go to Settings > API Keys)
# When set, all OpenRouter requests route through Helicone gateway for:
# - Real-time cost tracking per request
# - Latency metrics and performance monitoring
# - Token usage analytics
# - Request/response logging
# - Dashboard at https://helicone.ai/dashboard
HELICONE_API_KEY=

# Configuration
PAPER_TRADING=true
DAILY_INVESTMENT=10.0

# MINIMAL TRADING MODE (Dec 2025)
# Set to true to use stripped-down minimal trader instead of complex system
# Minimal system: Simple SMA momentum, 2% position size, -3%/+5% exits
# Complex system: 8-10 gates, 5 agent frameworks, multiple RL filters
USE_MINIMAL_TRADER=true  # RECOMMENDED: Start with minimal, prove edge first

TIER1_ALLOCATION=0.60
TIER2_ALLOCATION=0.20
TIER3_ALLOCATION=0.10
TIER4_ALLOCATION=0.10

# Risk Management
MAX_DAILY_LOSS_PCT=2.0
MAX_POSITION_SIZE_PCT=10.0
MAX_DRAWDOWN_PCT=10.0
STOP_LOSS_PCT=5.0

# ============================================================
# STRATEGY ALLOCATION (Dec 10, 2025)
# Control which strategies receive capital allocation
# ============================================================
TREASURY_ALLOCATION_PCT=0.0       # Treasury ladder (SHY/IEF/TLT) - disabled in bond bear market
REIT_ALLOCATION_PCT=0.0           # REIT income strategy - disabled until rates stabilize

# ============================================================
# TRADING GATE THRESHOLDS
# Lower values = more trades allowed through funnel
# ============================================================
RL_CONFIDENCE_THRESHOLD=0.30      # RL filter confidence (default was 0.45)
MOMENTUM_MIN_SCORE=-0.05          # Minimum momentum score (allow slight negative)
LLM_NEGATIVE_SENTIMENT_THRESHOLD=-0.3  # Sentiment filter threshold

# Order Execution
USE_LIMIT_ORDERS=true
LIMIT_ORDER_BUFFER_PCT=0.1
LIMIT_ORDER_TIMEOUT_SECONDS=60

# Market Data Provider Configuration
# yfinance settings (primary source)
YFINANCE_LOOKBACK_BUFFER_DAYS=35
YFINANCE_SECONDARY_LOOKBACK_DAYS=150
YFINANCE_MAX_RETRIES=3
YFINANCE_INITIAL_BACKOFF_SECONDS=1.0

# Alpaca settings (preferred fallback)
ALPACA_MAX_RETRIES=3
ALPACA_INITIAL_BACKOFF_SECONDS=2.0

# Alpha Vantage settings (last resort live source)
ALPHAVANTAGE_MIN_INTERVAL_SECONDS=15
ALPHAVANTAGE_BACKOFF_SECONDS=60
ALPHAVANTAGE_MAX_RETRIES=4

# Cache settings
MARKET_DATA_CACHE_DIR=data/cache/alpha_vantage
CACHE_TTL_SECONDS=21600
CACHE_MAX_AGE_DAYS=7

# Alerting Configuration
# Telegram Bot (recommended - free, instant, reliable)
# Setup: https://core.telegram.org/bots#3-how-do-i-create-a-bot
# 1. Open Telegram and search for @BotFather
# 2. Send /newbot and follow instructions
# 3. Copy bot token below
# 4. Send a message to your bot
# 5. Visit: https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates
# 6. Find your chat ID in JSON response and paste below
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Alternative/Additional Alerting (optional)
ALERT_EMAIL=
ALERT_WEBHOOK_URL=

# ============================================================
# CLOUD RL & OBSERVABILITY (ENABLED BY DEFAULT - Nov 24 directive)
# ============================================================

# Vertex AI RL Training
# Get credentials: https://console.cloud.google.com/iam-admin/serviceaccounts
# 1. Create service account with "Vertex AI User" role
# 2. Download JSON key file
# 3. Set RL_AGENT_KEY to the key or path to JSON file
RL_AGENT_KEY=
GOOGLE_CLOUD_PROJECT=
VERTEX_AI_LOCATION=us-central1

# LangSmith Experiment Tracking
# Get API key: https://smith.langchain.com (Settings > API Keys)
LANGCHAIN_API_KEY=
LANGCHAIN_PROJECT=trading-rl-training
LANGCHAIN_TRACING_V2=true

# ============================================================
# AGENT INTEGRATIONS (ALL ENABLED BY DEFAULT)
# ============================================================

# DeepAgents - Planning-based trading agent with sub-agent delegation
DEEPAGENTS_ENABLED=true

# LLM Council - Multi-model consensus for trading decisions
LLM_COUNCIL_ENABLED=true

# Go ADK Integration (requires Go service running)
ENABLE_ADK_AGENTS=true

# RL Systems
ENABLE_RL_RETRAIN=true
RL_USE_TRANSFORMER=1
USE_MEDALLION_ARCHITECTURE=true

# DiscoRL-Inspired DQN (Dec 2025 - DeepMind Nature paper integration)
# Enables categorical value distribution + EMA normalization for Gate 2
RL_USE_DISCO_DQN=true
RL_DISCO_WEIGHT=0.45
RL_HEURISTIC_WEIGHT=0.25
RL_TRANSFORMER_WEIGHT=0.30
DISCO_DQN_BINS=51
DISCO_DQN_GAMMA=0.997
DISCO_DQN_LR=0.0003
DISCO_DQN_MODEL_PATH=models/ml/disco_dqn.pt

# Ensemble Voting (Agent Weighting)
ENSEMBLE_WEIGHT_MCP=0.35
ENSEMBLE_WEIGHT_LANGCHAIN=0.15
ENSEMBLE_WEIGHT_GEMINI=0.15
ENSEMBLE_WEIGHT_ML=0.25
ENSEMBLE_WEIGHT_ENSEMBLE_RL=0.25
ENSEMBLE_WEIGHT_GROK=0.10

# Ensemble Consensus Thresholds
ENSEMBLE_BUY_THRESHOLD=0.15
ENSEMBLE_SELL_THRESHOLD=-0.15

# Ensemble Execution Sizing Scale
ENSEMBLE_SIZE_SCALE_MIN=0.5
ENSEMBLE_SIZE_SCALE_MAX=1.0

# TikTok API (Research API for sentiment analysis)
# Get credentials: https://developers.tiktok.com/
# 1. Create TikTok Developer account
# 2. Create new app in TikTok Developer Portal
# 3. Request access to Research API (requires approval)
# 4. Copy Client Key and Client Secret below
TIKTOK_CLIENT_KEY=your_tiktok_client_key_here
TIKTOK_CLIENT_SECRET=your_tiktok_client_secret_here

# LinkedIn API (for professional sentiment analysis)
# Setup: https://www.linkedin.com/developers/apps
# 1. Create a LinkedIn app
# 2. Request access to Marketing Developer Platform or Posts API
# 3. Add OAuth2 redirect URI for authentication
# 4. Copy Client ID and Client Secret below
# 5. (Optional) Generate access token and paste below
LINKEDIN_CLIENT_ID=
LINKEDIN_CLIENT_SECRET=
LINKEDIN_ACCESS_TOKEN=

# Value Cost Averaging (VCA) Configuration
USE_VCA=false
VCA_TARGET_GROWTH_RATE=0.10
VCA_MAX_ADJUSTMENT=2.0
VCA_MIN_ADJUSTMENT=0.3

# ============================================================
# OPTIONS & THETA HARVEST CONFIGURATION
# ============================================================

# Theta Automation - ENABLED BY DEFAULT (Dec 9 directive)
# When true, iron condors and other theta strategies will auto-execute
ENABLE_THETA_AUTOMATION=true

# Options Configuration
OPTIONS_MIN_SHARES=50
IV_PERCENTILE_THRESHOLD=40

# Accelerated Share Accumulation for Covered Calls
# Target: Build 50-share positions faster for covered call eligibility
OPTIONS_ACCUMULATION_ENABLED=true
OPTIONS_ACCUMULATION_DAILY=100.0
OPTIONS_ACCUMULATION_SYMBOL=INTC
# Why INTC: At ~$24/share, can reach 50 shares in ~12 days vs 280 days for NVDA
