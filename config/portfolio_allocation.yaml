# =============================================================================
# PORTFOLIO ALLOCATION CONFIGURATION
# =============================================================================
# Strategic allocation for maximizing risk-adjusted returns
# Target: $100+/day profitability through diversified, compound-growth approach
#
# Key Features:
# - Fixed 25% GOVT intermediate treasury allocation (4.2-4.6% carry, ~6% vol)
# - Dynamic long/ultra-long treasury switch based on yield environment
# - Momentum-based equity allocation
# - Options reserve for premium accumulation
#
# Created: 2025-12-03
# =============================================================================

version: "1.0"
description: "Optimized portfolio allocation with enhanced treasury exposure"

# =============================================================================
# CORE ALLOCATION BUCKETS
# =============================================================================
allocations:
  # Fixed intermediate treasury allocation - acts as cash-plus
  # GOVT: iShares U.S. Treasury Bond ETF (intermediate maturity blend)
  # Benefits: 4.2-4.6% carry, ~4-6% volatility, near-zero credit risk
  treasury_core:
    ticker: GOVT
    weight: 0.25  # 25% fixed allocation
    rebalance: monthly
    bypass_gates: true  # Always invest regardless of momentum gates
    description: "Intermediate treasury ETF for stable carry income"
    expected_return: 0.045  # 4.5% annual
    expected_volatility: 0.06  # 6% annual

  # Core equity ETFs - momentum selected
  core_etfs:
    tickers: ["SPY", "QQQ", "VOO"]
    weight: 0.35  # 35% allocation (reduced from 40% to make room for treasury_core)
    selection: momentum  # Use momentum gate to select best performer
    rebalance: daily
    bypass_gates: false
    description: "Core equity exposure via large-cap ETFs"

  # Dynamic long treasury allocation (TLT or ZROZ based on yield)
  # Switches to ZROZ (ultra-long 25+ year) when 10Y yield < 4.0%
  treasury_dynamic:
    tickers:
      default: TLT  # iShares 20+ Year Treasury
      yield_threshold_below: ZROZ  # PIMCO 25+ Year Zero Coupon (when 10Y < 4.0%)
    yield_switch_threshold: 4.05  # Switch to ZROZ when 10Y yield < 4.05%
    weight: 0.10  # 10% allocation
    rebalance: weekly
    bypass_gates: false  # Subject to momentum gate
    description: "Dynamic long-duration treasuries for rate sensitivity"

  # Growth stocks
  growth_stocks:
    tickers: ["NVDA", "GOOGL", "AMZN", "MSFT"]
    weight: 0.10  # 10% allocation
    selection: momentum
    rebalance: daily
    bypass_gates: false
    description: "High-conviction tech growth exposure"

  # REITs for dividend income
  reits:
    ticker: VNQ
    weight: 0.10  # 10% allocation
    rebalance: monthly
    bypass_gates: false
    description: "Real estate exposure and dividend income"

  # Crypto (weekend trading)
  crypto:
    tickers: ["BITO", "IBIT"]  # Bitcoin ETFs
    weight: 0.05  # 5% allocation
    trading_days: ["saturday", "sunday"]  # Weekend focus
    rebalance: weekly
    bypass_gates: false
    description: "Crypto exposure for 24/7 market access"

  # Options premium reserve
  options_reserve:
    weight: 0.05  # 5% allocation
    description: "Capital accumulation for covered call strategies"
    active: false  # Enable when options strategy is ready

# =============================================================================
# TREASURY LADDER CONFIGURATION
# =============================================================================
# Enhanced treasury ladder with yield curve awareness
treasury_ladder:
  enabled: true
  daily_allocation: 2.50  # $2.50/day to treasury ladder (25% of $10)

  # Standard 3-tier ladder
  tiers:
    short:
      ticker: SHY  # 1-3 Year Treasury
      base_weight: 0.40
    intermediate:
      ticker: IEF  # 7-10 Year Treasury
      base_weight: 0.40
    long:
      ticker: TLT  # 20+ Year Treasury
      base_weight: 0.20

  # Yield curve regime adjustments
  regime_allocations:
    normal:  # 10Y-2Y spread > 0.5%
      SHY: 0.40
      IEF: 0.40
      TLT: 0.20
    flat:  # 0 < spread < 0.5%
      SHY: 0.50
      IEF: 0.35
      TLT: 0.15
    inverted:  # spread < 0
      SHY: 0.70
      IEF: 0.25
      TLT: 0.05

  # Rebalancing rules
  rebalance_threshold: 0.05  # 5% drift triggers rebalance
  min_rebalance_interval_days: 7

# =============================================================================
# STEEPENER OVERRIDE
# =============================================================================
# 2s/10s steepener detector - historically one of the best mean-reverting trades
# When curve is very flat (2s10s < 0.2%), allocate extra 15% to long treasuries
steepener_override:
  enabled: true
  trigger_spread: 0.20  # Trigger when 2s10s spread < 0.2%
  extra_allocation: 0.15  # Add 15% extra to TLT/TMF when triggered
  ticker: TLT  # Use TLT (or TMF for 3x leverage in aggressive mode)
  leverage_mode: false  # Set true to use TMF instead of TLT
  description: "Mean-reversion trade on extremely flat yield curves"

# =============================================================================
# VOLATILITY FILTERS
# =============================================================================
# MOVE Index filter - controls duration exposure based on rate volatility
move_index_filter:
  enabled: true
  # MOVE Index thresholds
  low_vol_threshold: 70  # MOVE < 70 = quiet rates, increase duration
  high_vol_threshold: 120  # MOVE > 120 = volatile rates, reduce duration

  # Duration adjustment multipliers
  duration_adjustments:
    low_vol:  # MOVE < 70
      TLT_multiplier: 1.3  # Increase long exposure by 30%
      ZROZ_allowed: true   # Allow ultra-long exposure
    normal_vol:  # 70 <= MOVE <= 120
      TLT_multiplier: 1.0
      ZROZ_allowed: true
    high_vol:  # MOVE > 120
      TLT_multiplier: 0.5  # Reduce long exposure by 50%
      ZROZ_allowed: false  # Avoid ultra-long during vol spikes
      shift_to_short: true  # Shift allocation to SHY

# =============================================================================
# T-BILL LADDER FOR IDLE CASH
# =============================================================================
# Converts idle cash to 4-week T-bills earning 4.3-4.5% vs 0% cash drag
tbill_ladder:
  enabled: true
  ticker: BIL  # SPDR Bloomberg 1-3 Month T-Bill ETF
  min_cash_threshold: 1000  # Only invest if idle cash > $1000
  investment_day: "monday"  # Invest every Monday
  investment_amount: 500  # $500 per weekly investment (scales with portfolio)
  target_cash_reserve: 0.05  # Keep 5% in true cash for emergencies
  description: "Earn 4%+ on idle cash instead of 0%"

# =============================================================================
# RISK PARAMETERS
# =============================================================================
risk:
  max_single_position: 0.15  # No position > 15% of portfolio
  max_treasury_allocation: 0.50  # Treasuries can be up to 50% during crisis
  max_equity_drawdown: 0.10  # 10% equity drawdown triggers treasury shift
  safe_havens: ["TLT", "IEF", "BND", "SCHD", "VNQ", "GOVT", "SHY", "BIL"]

  # Circuit breaker thresholds
  circuit_breakers:
    daily_loss_pct: 0.03  # 3% daily loss pauses trading
    max_drawdown_pct: 0.10  # 10% drawdown shifts to safe havens

# =============================================================================
# EXPECTED RETURNS AT SCALE ($75k AUM)
# =============================================================================
# Based on historical backtests and current yield environment
projections:
  aum: 75000
  annual_returns:
    treasury_core: 0.045  # 4.5% on 25%
    treasury_dynamic: 0.12  # 12% (includes rate sensitivity)
    core_etfs: 0.15  # 15% momentum-adjusted
    growth_stocks: 0.20  # 20% growth premium
    reits: 0.08  # 8% with dividends
    crypto: 0.25  # 25% high vol capture
  blended_return: 0.14  # ~14% blended
  daily_income: 28.77  # $75k * 14% / 365
  notes: "Conservative projections; actual returns vary with market conditions"
