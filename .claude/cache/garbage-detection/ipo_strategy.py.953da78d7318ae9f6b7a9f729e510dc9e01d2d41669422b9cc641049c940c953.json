{
  "dead_imports": [
    {
      "line": 19,
      "module": "timedelta",
      "statement": "from datetime import datetime, timedelta"
    }
  ],
  "commented_blocks": [],
  "empty_functions": [],
  "unused_variables": [],
  "all_functions": [
    {
      "name": "main",
      "line": 1006,
      "code": "def main():\n    \"\"\"\n    Example usage and testing of IPO Strategy.\n    \"\"\"\n    print('IPO Strategy Module - Example Usage\\n')\n    strategy = IPOStrategy(daily_deposit=1.0)\n    print('1. Tracking daily deposits...')\n    for _ in range(5):\n        balance = strategy.track_daily_deposit()\n    print(f'   Balance after 5 days: ${balance:.2f}\\n')\n    example_company = {'name': 'Example Tech Corp', 'ticker': 'EXTECH', 'industry': 'Cloud Software', 'ipo_date': '2025-11-15', 'price_range': (18.0, 22.0), 'shares_offered': 10000000, 'valuation': 2500000000, 'underwriters': ['Goldman Sachs', 'Morgan Stanley', 'JPMorgan'], 'revenue': 300000000, 'revenue_growth': 45.0, 'net_income': -50000000, 'employees': 1200, 'founded': 2018, 'ceo': 'Jane Smith', 'business_model': 'SaaS platform for enterprise cloud infrastructure management', 'competitors': ['Datadog', 'New Relic', 'Dynatrace'], 'risk_factors': ['Competition from established players', 'Dependence on cloud infrastructure providers', 'Customer concentration risk']}\n    print('2. Analyzing IPO...')\n    analysis = strategy.analyze_ipo(example_company)\n    print(f\"\\n   Company: {analysis['company_name']}\")\n    print(f\"   Score: {analysis['score']}/100\")\n    print(f\"   Recommendation: {analysis['recommendation']} ({analysis['confidence']} confidence)\")\n    print(f\"   Target Allocation: ${analysis['target_allocation']:.2f}\")\n    print('\\n3. Generating detailed report...')\n    strategy.generate_ipo_report(example_company['name'], analysis)\n    print('\\n4. SoFi Manual Check:')\n    strategy.check_sofi_offerings()\n    print('\\n5. Current Recommendations:')\n    recommendations = strategy.get_ipo_recommendations()\n    if recommendations:\n        for rec in recommendations:\n            print(f\"   - {rec['company_name']}: {rec['score']}/100 (${rec['target_allocation']:.2f})\")\n    else:\n        print('   No INVEST recommendations yet')\n    print('\\n6. Balance Information:')\n    balance_info = strategy.get_balance_info()\n    print(f\"   Current: ${balance_info['balance']:.2f}\")\n    print(f\"   Projected (30 days): ${balance_info['projected_30_days']:.2f}\")\n    print(f\"   Projected (90 days): ${balance_info['projected_90_days']:.2f}\")"
    },
    {
      "name": "__init__",
      "line": 143,
      "code": "def __init__(self, data_dir: Optional[str]=None, daily_deposit: float=1.0, anthropic_api_key: Optional[str]=None, openai_api_key: Optional[str]=None):\n    \"\"\"\n        Initialize the IPO Strategy.\n\n        Args:\n            data_dir: Directory for storing IPO analysis data (defaults to project_root/data/ipo)\n            daily_deposit: Daily deposit amount in dollars (default $1.00)\n            anthropic_api_key: Anthropic API key for Claude analysis\n            openai_api_key: OpenAI API key for GPT-4 analysis\n        \"\"\"\n    if data_dir is None:\n        project_root = Path(__file__).parent.parent.parent\n        data_dir = project_root / 'data' / 'ipo'\n    self.data_dir = Path(data_dir)\n    self.data_dir.mkdir(parents=True, exist_ok=True)\n    self.daily_deposit = daily_deposit\n    self.balance_file = self.data_dir / 'balance.json'\n    self.history_file = self.data_dir / 'analysis_history.json'\n    self.balance = self._load_balance()\n    self.analysis_history: List[Dict[str, Any]] = self._load_history()\n    self.anthropic_client = None\n    self.openai_client = None\n    if anthropic_api_key:\n        try:\n            self.anthropic_client = anthropic.Anthropic(api_key=anthropic_api_key)\n            logger.info('Anthropic client initialized')\n        except Exception as e:\n            logger.warning(f'Failed to initialize Anthropic client: {e}')\n    if openai_api_key:\n        try:\n            self.openai_client = openai.OpenAI(api_key=openai_api_key)\n            logger.info('OpenAI client initialized')\n        except Exception as e:\n            logger.warning(f'Failed to initialize OpenAI client: {e}')\n    logger.info(f'IPO Strategy initialized with balance: ${self.balance:.2f}')"
    },
    {
      "name": "_load_balance",
      "line": 195,
      "code": "def _load_balance(self) -> float:\n    \"\"\"Load current balance from file.\"\"\"\n    if self.balance_file.exists():\n        try:\n            with open(self.balance_file, 'r') as f:\n                data = json.load(f)\n                return data.get('balance', 0.0)\n        except Exception as e:\n            logger.error(f'Error loading balance: {e}')\n            return 0.0\n    return 0.0"
    },
    {
      "name": "_save_balance",
      "line": 207,
      "code": "def _save_balance(self) -> None:\n    \"\"\"Save current balance to file.\"\"\"\n    try:\n        data = {'balance': self.balance, 'last_updated': datetime.now().isoformat(), 'daily_deposit': self.daily_deposit}\n        with open(self.balance_file, 'w') as f:\n            json.dump(data, f, indent=2)\n    except Exception as e:\n        logger.error(f'Error saving balance: {e}')"
    },
    {
      "name": "_load_history",
      "line": 220,
      "code": "def _load_history(self) -> List[Dict[str, Any]]:\n    \"\"\"Load analysis history from file.\"\"\"\n    if self.history_file.exists():\n        try:\n            with open(self.history_file, 'r') as f:\n                return json.load(f)\n        except Exception as e:\n            logger.error(f'Error loading history: {e}')\n            return []\n    return []"
    },
    {
      "name": "_save_history",
      "line": 231,
      "code": "def _save_history(self) -> None:\n    \"\"\"Save analysis history to file.\"\"\"\n    try:\n        with open(self.history_file, 'w') as f:\n            json.dump(self.analysis_history, f, indent=2)\n    except Exception as e:\n        logger.error(f'Error saving history: {e}')"
    },
    {
      "name": "track_daily_deposit",
      "line": 239,
      "code": "def track_daily_deposit(self, amount: Optional[float]=None) -> float:\n    \"\"\"\n        Track daily deposit to IPO allocation.\n\n        This method should be called daily to add the daily deposit amount\n        to the available balance for IPO investments.\n\n        Args:\n            amount: Deposit amount (defaults to daily_deposit if not specified)\n\n        Returns:\n            Current balance after deposit\n\n        Example:\n            >>> strategy = IPOStrategy()\n            >>> balance = strategy.track_daily_deposit()\n            >>> print(f\"New balance: ${balance:.2f}\")\n        \"\"\"\n    if amount is None:\n        amount = self.daily_deposit\n    self.balance += amount\n    self._save_balance()\n    logger.info(f'Deposited ${amount:.2f}. New balance: ${self.balance:.2f}')\n    return self.balance"
    },
    {
      "name": "_evaluate_underwriters",
      "line": 266,
      "code": "def _evaluate_underwriters(self, underwriters: List[str]) -> Tuple[float, str]:\n    \"\"\"\n        Evaluate quality of IPO underwriters.\n\n        Top-tier underwriters (Goldman Sachs, Morgan Stanley, JPMorgan, etc.)\n        are associated with better IPO performance.\n\n        Args:\n            underwriters: List of underwriting banks\n\n        Returns:\n            Tuple of (rating 0-10, analysis text)\n        \"\"\"\n    top_tier = {'goldman sachs', 'morgan stanley', 'jpmorgan', 'jp morgan', 'bank of america', 'bofa', 'citigroup', 'citi', 'deutsche bank', 'credit suisse', 'barclays', 'ubs'}\n    mid_tier = {'wells fargo', 'rbc', 'jefferies', 'cowen', 'piper sandler', 'william blair', 'stifel', 'raymond james', 'canaccord'}\n    underwriter_lower = [u.lower() for u in underwriters]\n    top_tier_count = sum((1 for u in underwriter_lower if any((t in u for t in top_tier))))\n    mid_tier_count = sum((1 for u in underwriter_lower if any((m in u for m in mid_tier))))\n    if top_tier_count >= 2:\n        rating = 9.0\n        analysis = f'Excellent underwriter syndicate with {top_tier_count} top-tier banks'\n    elif top_tier_count == 1:\n        rating = 7.5\n        analysis = 'Strong lead underwriter from top tier'\n    elif mid_tier_count >= 2:\n        rating = 6.0\n        analysis = 'Solid mid-tier underwriting team'\n    elif mid_tier_count == 1:\n        rating = 5.0\n        analysis = 'Moderate underwriting quality'\n    else:\n        rating = 3.0\n        analysis = 'Weaker underwriting syndicate - higher risk'\n    return (rating, analysis)"
    },
    {
      "name": "_evaluate_financials",
      "line": 335,
      "code": "def _evaluate_financials(self, company: CompanyData) -> Tuple[float, List[str], List[str]]:\n    \"\"\"\n        Evaluate company financial health.\n\n        Args:\n            company: Company data\n\n        Returns:\n            Tuple of (rating 0-10, strengths list, concerns list)\n        \"\"\"\n    rating = 5.0\n    strengths = []\n    concerns = []\n    if company.revenue_growth is not None:\n        if company.revenue_growth > 50:\n            rating += 2.0\n            strengths.append(f'Exceptional revenue growth: {company.revenue_growth:.1f}%')\n        elif company.revenue_growth > 25:\n            rating += 1.5\n            strengths.append(f'Strong revenue growth: {company.revenue_growth:.1f}%')\n        elif company.revenue_growth > 10:\n            rating += 0.5\n            strengths.append(f'Solid revenue growth: {company.revenue_growth:.1f}%')\n        elif company.revenue_growth < 0:\n            rating -= 2.0\n            concerns.append(f'Declining revenue: {company.revenue_growth:.1f}%')\n    if company.net_income is not None and company.revenue is not None:\n        margin = company.net_income / company.revenue * 100 if company.revenue > 0 else -100\n        if margin > 20:\n            rating += 1.5\n            strengths.append(f'Highly profitable: {margin:.1f}% margin')\n        elif margin > 10:\n            rating += 1.0\n            strengths.append(f'Profitable: {margin:.1f}% margin')\n        elif margin > 0:\n            rating += 0.5\n            strengths.append(f'Positive margins: {margin:.1f}%')\n        elif company.revenue and company.revenue > 1000000000:\n            concerns.append(f'Not yet profitable: {margin:.1f}% margin (acceptable for growth stage)')\n        else:\n            rating -= 1.0\n            concerns.append(f'Unprofitable: {margin:.1f}% margin')\n    if company.valuation and company.revenue:\n        ps_ratio = company.valuation / company.revenue\n        if ps_ratio < 5:\n            rating += 1.0\n            strengths.append(f'Reasonable valuation: {ps_ratio:.1f}x revenue')\n        elif ps_ratio > 20:\n            rating -= 1.0\n            concerns.append(f'High valuation: {ps_ratio:.1f}x revenue')\n    rating = max(0.0, min(10.0, rating))\n    return (rating, strengths, concerns)"
    },
    {
      "name": "_evaluate_market_timing",
      "line": 412,
      "code": "def _evaluate_market_timing(self) -> Tuple[float, str]:\n    \"\"\"\n        Evaluate current market conditions for IPOs.\n\n        Returns:\n            Tuple of (rating 0-10, analysis text)\n        \"\"\"\n    rating = 6.0\n    analysis = 'Market timing evaluation requires manual assessment. Check: (1) Recent market performance, (2) VIX level, (3) Recent IPO performance, (4) Interest rate environment'\n    return (rating, analysis)"
    },
    {
      "name": "_get_claude_analysis",
      "line": 435,
      "code": "def _get_claude_analysis(self, company: CompanyData) -> Optional[str]:\n    \"\"\"\n        Get IPO analysis from Claude.\n\n        Args:\n            company: Company data\n\n        Returns:\n            Analysis text or None if unavailable\n        \"\"\"\n    if not self.anthropic_client:\n        return None\n    try:\n        prompt = f\"Analyze this IPO opportunity:\\n\\nCompany: {company.name} ({company.ticker})\\nIndustry: {company.industry}\\nValuation: ${company.valuation:,.0f if company.valuation else 0}\\nRevenue: ${company.revenue:,.0f if company.revenue else 0}\\nRevenue Growth: {(company.revenue_growth if company.revenue_growth else 'N/A')}%\\nNet Income: ${company.net_income:,.0f if company.net_income else 0}\\nUnderwriters: {', '.join(company.underwriters)}\\n\\nBusiness Model: {company.business_model or 'N/A'}\\nCompetitors: {(', '.join(company.competitors) if company.competitors else 'N/A')}\\n\\nProvide a concise analysis covering:\\n1. Investment thesis (2-3 sentences)\\n2. Key strengths (3-5 points)\\n3. Major risks (3-5 points)\\n4. Comparison to competitors\\n5. Overall recommendation (INVEST or PASS) with confidence level\\n\\nBe direct and analytical. Focus on facts over speculation.\"\n        message = self.anthropic_client.messages.create(model='claude-3-5-sonnet-20241022', max_tokens=1500, messages=[{'role': 'user', 'content': prompt}])\n        return message.content[0].text\n    except Exception as e:\n        logger.error(f'Error getting Claude analysis: {e}')\n        return None"
    },
    {
      "name": "_get_gpt4_analysis",
      "line": 483,
      "code": "def _get_gpt4_analysis(self, company: CompanyData) -> Optional[str]:\n    \"\"\"\n        Get IPO analysis from GPT-4.\n\n        Args:\n            company: Company data\n\n        Returns:\n            Analysis text or None if unavailable\n        \"\"\"\n    if not self.openai_client:\n        return None\n    try:\n        prompt = f\"Analyze this IPO opportunity:\\n\\nCompany: {company.name} ({company.ticker})\\nIndustry: {company.industry}\\nValuation: ${company.valuation:,.0f if company.valuation else 0}\\nRevenue: ${company.revenue:,.0f if company.revenue else 0}\\nRevenue Growth: {(company.revenue_growth if company.revenue_growth else 'N/A')}%\\nNet Income: ${company.net_income:,.0f if company.net_income else 0}\\nUnderwriters: {', '.join(company.underwriters)}\\n\\nBusiness Model: {company.business_model or 'N/A'}\\nCompetitors: {(', '.join(company.competitors) if company.competitors else 'N/A')}\\n\\nProvide analysis covering:\\n1. Competitive positioning\\n2. Financial health assessment\\n3. Market opportunity\\n4. Key risks and concerns\\n5. Investment recommendation with reasoning\\n\\nBe analytical and balanced.\"\n        response = self.openai_client.chat.completions.create(model='gpt-4-turbo-preview', messages=[{'role': 'user', 'content': prompt}], max_tokens=1500, temperature=0.7)\n        return response.choices[0].message.content\n    except Exception as e:\n        logger.error(f'Error getting GPT-4 analysis: {e}')\n        return None"
    },
    {
      "name": "analyze_ipo",
      "line": 532,
      "code": "def analyze_ipo(self, company_data: Dict[str, Any]) -> Dict[str, Any]:\n    \"\"\"\n        Analyze an IPO opportunity using multi-LLM analysis.\n\n        This method performs comprehensive analysis including:\n        - Underwriter quality evaluation\n        - Financial health assessment\n        - Market timing analysis\n        - Multi-LLM AI analysis (Claude + GPT-4)\n        - Risk factor identification\n        - Investment recommendation\n\n        Args:\n            company_data: Dictionary containing company information\n                         (will be converted to CompanyData object)\n\n        Returns:\n            Dictionary containing analysis results with keys:\n            - score: Overall score (0-100)\n            - recommendation: 'INVEST' or 'PASS'\n            - confidence: 'HIGH', 'MEDIUM', or 'LOW'\n            - strengths: List of positive factors\n            - risks: List of risk factors\n            - red_flags: Critical concerns\n            - investment_thesis: Summary thesis\n            - detailed_analysis: Full analysis text\n            - target_allocation: Recommended investment amount\n\n        Example:\n            >>> company = {\n            ...     'name': 'TechCo',\n            ...     'ticker': 'TECH',\n            ...     'industry': 'Software',\n            ...     'valuation': 5_000_000_000,\n            ...     'revenue': 500_000_000,\n            ...     'revenue_growth': 45.0,\n            ...     'underwriters': ['Goldman Sachs', 'Morgan Stanley']\n            ... }\n            >>> analysis = strategy.analyze_ipo(company)\n            >>> print(f\"Score: {analysis['score']}, Recommendation: {analysis['recommendation']}\")\n        \"\"\"\n    company = CompanyData(**company_data)\n    logger.info(f'Analyzing IPO: {company.name} ({company.ticker})')\n    strengths = []\n    risks = []\n    red_flags = []\n    underwriter_rating, underwriter_analysis = self._evaluate_underwriters(company.underwriters)\n    underwriter_score = underwriter_rating / 10 * 20\n    if underwriter_rating >= 7:\n        strengths.append(underwriter_analysis)\n    else:\n        risks.append(underwriter_analysis)\n    financial_rating, fin_strengths, fin_concerns = self._evaluate_financials(company)\n    financial_score = financial_rating / 10 * 40\n    strengths.extend(fin_strengths)\n    risks.extend(fin_concerns)\n    market_rating, market_analysis = self._evaluate_market_timing()\n    market_score = market_rating / 10 * 15\n    ai_score = 0\n    ai_analyses = []\n    claude_analysis = self._get_claude_analysis(company)\n    if claude_analysis:\n        ai_analyses.append(('Claude Analysis', claude_analysis))\n        ai_score += 12.5\n    gpt4_analysis = self._get_gpt4_analysis(company)\n    if gpt4_analysis:\n        ai_analyses.append(('GPT-4 Analysis', gpt4_analysis))\n        ai_score += 12.5\n    if company.revenue_growth and company.revenue_growth < -10:\n        red_flags.append('Significant revenue decline')\n    if company.net_income and company.revenue and (company.revenue > 1000000000):\n        margin = company.net_income / company.revenue * 100\n        if margin < -50:\n            red_flags.append('Severe losses relative to revenue')\n    if underwriter_rating < 4:\n        red_flags.append('Weak underwriting syndicate')\n    if len(company.risk_factors) > 10:\n        red_flags.append(f'Excessive risk factors disclosed: {len(company.risk_factors)}')\n    total_score = underwriter_score + financial_score + market_score + ai_score\n    red_flag_penalty = len(red_flags) * 5\n    total_score = max(0, total_score - red_flag_penalty)\n    if total_score >= 75 and len(red_flags) == 0:\n        recommendation = 'INVEST'\n        confidence = 'HIGH'\n    elif total_score >= 65 and len(red_flags) <= 1:\n        recommendation = 'INVEST'\n        confidence = 'MEDIUM'\n    elif total_score >= 55 and len(red_flags) == 0:\n        recommendation = 'INVEST'\n        confidence = 'LOW'\n    else:\n        recommendation = 'PASS'\n        confidence = 'HIGH' if total_score < 40 or len(red_flags) >= 2 else 'MEDIUM'\n    if recommendation == 'INVEST':\n        if confidence == 'HIGH':\n            target_allocation = min(self.balance * 0.3, self.balance)\n        elif confidence == 'MEDIUM':\n            target_allocation = min(self.balance * 0.2, self.balance)\n        else:\n            target_allocation = min(self.balance * 0.1, self.balance)\n    else:\n        target_allocation = 0.0\n    thesis_parts = []\n    if strengths:\n        thesis_parts.append(f\"Strengths: {', '.join(strengths[:2])}\")\n    if risks:\n        thesis_parts.append(f\"Key risks: {', '.join(risks[:2])}\")\n    investment_thesis = '. '.join(thesis_parts) if thesis_parts else 'Insufficient data for thesis'\n    analysis = IPOAnalysis(company_name=company.name, ticker=company.ticker, score=round(total_score, 1), recommendation=recommendation, confidence=confidence, strengths=strengths, risks=risks, red_flags=red_flags, underwriter_rating=underwriter_rating, financial_health=financial_rating, market_timing=market_rating, investment_thesis=investment_thesis, target_allocation=round(target_allocation, 2), comparable_analysis=market_analysis)\n    history_entry = asdict(analysis)\n    history_entry['company_data'] = asdict(company)\n    history_entry['ai_analyses'] = ai_analyses\n    self.analysis_history.append(history_entry)\n    self._save_history()\n    logger.info(f'Analysis complete: {company.name} - Score: {total_score:.1f}, Recommendation: {recommendation} ({confidence})')\n    result = asdict(analysis)\n    result['ai_analyses'] = ai_analyses\n    result['detailed_breakdown'] = {'underwriter_score': round(underwriter_score, 1), 'financial_score': round(financial_score, 1), 'market_score': round(market_score, 1), 'ai_score': round(ai_score, 1), 'red_flag_penalty': red_flag_penalty}\n    return result"
    },
    {
      "name": "generate_ipo_report",
      "line": 725,
      "code": "def generate_ipo_report(self, company_name: str, analysis: Dict[str, Any], output_file: Optional[str]=None) -> None:\n    \"\"\"\n        Generate detailed IPO analysis report.\n\n        Creates a comprehensive markdown report with all analysis details,\n        suitable for manual review before making investment decisions.\n\n        Args:\n            company_name: Name of the company\n            analysis: Analysis results from analyze_ipo()\n            output_file: Optional output file path (defaults to data_dir)\n\n        Example:\n            >>> analysis = strategy.analyze_ipo(company_data)\n            >>> strategy.generate_ipo_report('TechCo', analysis)\n            Report saved to: /path/to/TechCo_IPO_Analysis_2025-10-28.md\n        \"\"\"\n    if output_file is None:\n        timestamp = datetime.now().strftime('%Y-%m-%d_%H%M%S')\n        safe_name = ''.join((c for c in company_name if c.isalnum() or c in (' ', '-', '_')))\n        output_file = str(self.data_dir / f'{safe_name}_IPO_Analysis_{timestamp}.md')\n    report = f\"# IPO Analysis Report: {company_name}\\n\\n**Generated:** {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\\n**Ticker:** {analysis['ticker']}\\n**Overall Score:** {analysis['score']}/100\\n\\n---\\n\\n## RECOMMENDATION: {analysis['recommendation']}\\n**Confidence Level:** {analysis['confidence']}\\n\\n### Target Allocation\\n${analysis['target_allocation']:.2f} (Available Balance: ${self.balance:.2f})\\n\\n---\\n\\n## Investment Thesis\\n\\n{analysis['investment_thesis']}\\n\\n---\\n\\n## Score Breakdown\\n\\n| Component | Score | Rating |\\n|-----------|-------|--------|\\n| Underwriters | {analysis['detailed_breakdown']['underwriter_score']:.1f}/20 | {analysis['underwriter_rating']:.1f}/10 |\\n| Financial Health | {analysis['detailed_breakdown']['financial_score']:.1f}/40 | {analysis['financial_health']:.1f}/10 |\\n| Market Timing | {analysis['detailed_breakdown']['market_score']:.1f}/15 | {analysis['market_timing']:.1f}/10 |\\n| AI Analysis | {analysis['detailed_breakdown']['ai_score']:.1f}/25 | - |\\n| **Total** | **{analysis['score']:.1f}/100** | - |\\n\\nRed Flag Penalty: -{analysis['detailed_breakdown']['red_flag_penalty']} points\\n\\n---\\n\\n## Strengths\\n\\n\"\n    for i, strength in enumerate(analysis['strengths'], 1):\n        report += f'{i}. {strength}\\n'\n    if not analysis['strengths']:\n        report += '_No significant strengths identified_\\n'\n    report += '\\n---\\n\\n## Risks\\n\\n'\n    for i, risk in enumerate(analysis['risks'], 1):\n        report += f'{i}. {risk}\\n'\n    if not analysis['risks']:\n        report += '_No significant risks identified_\\n'\n    if analysis['red_flags']:\n        report += '\\n---\\n\\n## RED FLAGS\\n\\n'\n        for i, flag in enumerate(analysis['red_flags'], 1):\n            report += f'**{i}. {flag}**\\n'\n    if 'ai_analyses' in analysis and analysis['ai_analyses']:\n        report += '\\n---\\n\\n## AI Analyses\\n\\n'\n        for model_name, ai_analysis in analysis['ai_analyses']:\n            report += f'### {model_name}\\n\\n{ai_analysis}\\n\\n'\n    report += f\"\\n---\\n\\n## Market & Comparables\\n\\n{analysis['comparable_analysis']}\\n\"\n    report += '\\n---\\n\\n## Next Steps\\n\\n'\n    if analysis['recommendation'] == 'INVEST':\n        report += f\"1. Review this analysis thoroughly\\n2. Check SoFi for IPO availability and terms\\n3. Review S-1 filing for additional details\\n4. Verify current market conditions\\n5. If approved, invest up to ${analysis['target_allocation']:.2f}\\n6. Set calendar reminder for lock-up expiration (typically 180 days)\\n\"\n    else:\n        report += '1. Review analysis to understand concerns\\n2. Monitor company progress for potential future opportunities\\n3. Consider waiting for post-IPO price action\\n4. Focus available capital on higher-rated opportunities\\n'\n    report += '\\n---\\n\\n## Disclaimer\\n\\nThis analysis is for informational purposes only and does not constitute financial advice.\\nIPO investing carries significant risks including potential loss of principal. Always conduct\\nyour own due diligence and consider consulting with a financial advisor before making\\ninvestment decisions.\\n\\n'\n    try:\n        with open(output_file, 'w') as f:\n            f.write(report)\n        logger.info(f'Report saved to: {output_file}')\n        print(f'\\nReport saved to: {output_file}')\n    except Exception as e:\n        logger.error(f'Error saving report: {e}')\n        print(f'\\nError saving report: {e}')\n        print('\\nReport content:')\n        print(report)"
    },
    {
      "name": "check_sofi_offerings",
      "line": 869,
      "code": "def check_sofi_offerings(self) -> None:\n    \"\"\"\n        Print reminder to manually check SoFi for available IPO offerings.\n\n        Since SoFi has no API, this method provides instructions for manually\n        checking the platform for available IPO opportunities.\n\n        Example:\n            >>> strategy.check_sofi_offerings()\n        \"\"\"\n    print('\\n' + '=' * 70)\n    print('MANUAL ACTION REQUIRED: Check SoFi IPO Offerings')\n    print('=' * 70)\n    print('\\nSteps to check SoFi for IPO opportunities:')\n    print('\\n1. Log in to SoFi Invest platform')\n    print('   https://www.sofi.com/invest/')\n    print('\\n2. Navigate to IPO section:')\n    print(\"   - Click 'Trade' or 'Invest'\")\n    print(\"   - Look for 'IPOs' or 'Upcoming IPOs' section\")\n    print('\\n3. Review available offerings:')\n    print('   - Check company name, ticker, and industry')\n    print('   - Note price range and expected IPO date')\n    print('   - Review key financials and business description')\n    print('\\n4. For any interesting IPOs, gather data:')\n    print('   - Company name and ticker')\n    print('   - Underwriters')\n    print('   - Financial metrics (revenue, growth, profitability)')\n    print('   - Valuation and shares offered')\n    print('\\n5. Use this data with analyze_ipo() method for AI analysis')\n    print('\\n' + '=' * 70)\n    print(f'Current IPO Balance: ${self.balance:.2f}')\n    print('=' * 70 + '\\n')"
    },
    {
      "name": "get_ipo_recommendations",
      "line": 902,
      "code": "def get_ipo_recommendations(self) -> List[Dict[str, Any]]:\n    \"\"\"\n        Get list of IPO recommendations from analysis history.\n\n        Returns all analyses with INVEST recommendation, sorted by score.\n\n        Returns:\n            List of dictionaries containing recommendation details:\n            - company_name: Company name\n            - ticker: Stock ticker\n            - score: Analysis score\n            - recommendation: Always 'INVEST'\n            - confidence: Confidence level\n            - target_allocation: Recommended investment amount\n            - timestamp: Analysis timestamp\n            - investment_thesis: Summary thesis\n\n        Example:\n            >>> recommendations = strategy.get_ipo_recommendations()\n            >>> for rec in recommendations:\n            ...     print(f\"{rec['company_name']}: {rec['score']}/100 - ${rec['target_allocation']}\")\n        \"\"\"\n    recommendations = [entry for entry in self.analysis_history if entry.get('recommendation') == 'INVEST']\n    recommendations.sort(key=lambda x: x.get('score', 0), reverse=True)\n    simplified = []\n    for rec in recommendations:\n        simplified.append({'company_name': rec['company_name'], 'ticker': rec['ticker'], 'score': rec['score'], 'recommendation': rec['recommendation'], 'confidence': rec['confidence'], 'target_allocation': rec['target_allocation'], 'timestamp': rec['timestamp'], 'investment_thesis': rec['investment_thesis']})\n    return simplified"
    },
    {
      "name": "get_analysis_history",
      "line": 952,
      "code": "def get_analysis_history(self, limit: Optional[int]=None, recommendation_filter: Optional[str]=None) -> List[Dict[str, Any]]:\n    \"\"\"\n        Get IPO analysis history.\n\n        Args:\n            limit: Maximum number of results to return\n            recommendation_filter: Filter by recommendation ('INVEST' or 'PASS')\n\n        Returns:\n            List of analysis records\n\n        Example:\n            >>> # Get last 10 analyses\n            >>> history = strategy.get_analysis_history(limit=10)\n            >>> # Get all PASS recommendations\n            >>> passes = strategy.get_analysis_history(recommendation_filter='PASS')\n        \"\"\"\n    history = self.analysis_history.copy()\n    if recommendation_filter:\n        history = [h for h in history if h.get('recommendation') == recommendation_filter]\n    if limit:\n        history = history[-limit:]\n    return history"
    },
    {
      "name": "get_balance_info",
      "line": 985,
      "code": "def get_balance_info(self) -> Dict[str, Any]:\n    \"\"\"\n        Get current balance and deposit information.\n\n        Returns:\n            Dictionary with balance, daily deposit, and projected balance\n\n        Example:\n            >>> info = strategy.get_balance_info()\n            >>> print(f\"Current: ${info['balance']:.2f}\")\n            >>> print(f\"Projected 30 days: ${info['projected_30_days']:.2f}\")\n        \"\"\"\n    return {'balance': self.balance, 'daily_deposit': self.daily_deposit, 'projected_7_days': self.balance + self.daily_deposit * 7, 'projected_30_days': self.balance + self.daily_deposit * 30, 'projected_90_days': self.balance + self.daily_deposit * 90}"
    }
  ]
}
