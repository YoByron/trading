{
  "dead_imports": [
    {
      "line": 7,
      "module": "annotations",
      "statement": "from __future__ import annotations"
    }
  ],
  "commented_blocks": [],
  "empty_functions": [],
  "unused_variables": [],
  "all_functions": [
    {
      "name": "create_research_agent_adapter",
      "line": 109,
      "code": "def create_research_agent_adapter(agent_name: str='deepagents-research', **kwargs: Any) -> DeepAgentsAdapter:\n    \"\"\"\n    Create a TradingAgent adapter for the research deepagent.\n\n    Args:\n        agent_name: Name for the agent\n        **kwargs: Additional arguments passed to create_trading_research_agent\n\n    Returns:\n        DeepAgentsAdapter instance\n    \"\"\"\n    from .agents import create_trading_research_agent\n    deepagent = create_trading_research_agent(**kwargs)\n    return DeepAgentsAdapter(agent_name=agent_name, deepagent=deepagent)"
    },
    {
      "name": "create_analysis_agent_adapter",
      "line": 129,
      "code": "def create_analysis_agent_adapter(agent_name: str='deepagents-analysis', **kwargs: Any) -> DeepAgentsAdapter:\n    \"\"\"\n    Create a TradingAgent adapter for the analysis deepagent.\n\n    Args:\n        agent_name: Name for the agent\n        **kwargs: Additional arguments passed to create_market_analysis_agent\n\n    Returns:\n        DeepAgentsAdapter instance\n    \"\"\"\n    from .agents import create_market_analysis_agent\n    deepagent = create_market_analysis_agent(**kwargs)\n    return DeepAgentsAdapter(agent_name=agent_name, deepagent=deepagent)"
    },
    {
      "name": "__init__",
      "line": 26,
      "code": "def __init__(self, agent_name: str, deepagent: Any, system_prompt: Optional[str]=None) -> None:\n    \"\"\"\n        Initialize adapter.\n\n        Args:\n            agent_name: Name for the agent (used in AgentResult)\n            deepagent: Pre-configured deepagent instance\n            system_prompt: Optional system prompt override\n        \"\"\"\n    super().__init__(agent_name)\n    self.deepagent = deepagent\n    self.system_prompt = system_prompt"
    },
    {
      "name": "execute",
      "line": 44,
      "code": "def execute(self, context: RunContext) -> AgentResult:\n    \"\"\"\n        Execute the deepagent as a TradingAgent.\n\n        Args:\n            context: Run context with configuration and state\n\n        Returns:\n            AgentResult with deepagent output\n        \"\"\"\n    try:\n        query = self._extract_query(context)\n        result = asyncio.run(self._run_deepagent(query))\n        return AgentResult(name=self.agent_name, succeeded=True, payload={'query': query, 'response': result, 'messages': result.get('messages', []) if isinstance(result, dict) else []})\n    except Exception as e:\n        logger.exception(f'DeepAgentsAdapter {self.agent_name} failed')\n        return AgentResult(name=self.agent_name, succeeded=False, error=str(e))"
    },
    {
      "name": "_extract_query",
      "line": 81,
      "code": "def _extract_query(self, context: RunContext) -> str:\n    \"\"\"Extract query from context.\"\"\"\n    query = context.config.get('query')\n    if query:\n        return str(query)\n    query = context.config.get('task')\n    if query:\n        return str(query)\n    symbols = context.config.get('symbols', ['SPY'])\n    symbol = symbols[0] if symbols else 'SPY'\n    return f'Analyze {symbol} and provide trading recommendation'"
    },
    {
      "name": "_run_deepagent",
      "line": 97,
      "code": "async def _run_deepagent(self, query: str) -> Dict[str, Any]:\n    \"\"\"Run the deepagent with a query.\"\"\"\n    try:\n        result = await self.deepagent.ainvoke({'messages': [{'role': 'user', 'content': query}]})\n        return result\n    except Exception as e:\n        logger.exception('Error running deepagent')\n        raise"
    }
  ]
}
