{
  "dead_imports": [
    {
      "line": 5,
      "module": "os",
      "statement": "import os"
    }
  ],
  "commented_blocks": [],
  "empty_functions": [],
  "unused_variables": [
    {
      "line": 36,
      "variable": "pr_body"
    }
  ],
  "all_functions": [
    {
      "name": "__init__",
      "line": 22,
      "code": "def __init__(self):\n    super().__init__(name='PRAgent', role='PR Reviewer & Automator')"
    },
    {
      "name": "analyze",
      "line": 25,
      "code": "def analyze(self, data: Dict[str, Any]) -> Dict[str, Any]:\n    \"\"\"\n        Analyze a Pull Request.\n        \n        Args:\n            data: PR context (title, body, diff, files)\n            \n        Returns:\n            Analysis result with action (APPROVE, COMMENT, REQUEST_CHANGES)\n        \"\"\"\n    pr_title = data.get('title', '')\n    pr_body = data.get('body', '')\n    files = data.get('files', [])\n    logger.info(f'Analyzing PR: {pr_title}')\n    risk_score = self._calculate_risk(pr_title, files)\n    if risk_score < 30:\n        action = 'APPROVE'\n        comment = '\u2705 Low risk update. Auto-approved by PRAgent.'\n    elif risk_score < 70:\n        action = 'COMMENT'\n        comment = '\u26a0\ufe0f Medium risk. Please verify manually.'\n    else:\n        action = 'REQUEST_CHANGES'\n        comment = '\u274c High risk detected. Manual review required.'\n    return {'action': action, 'risk_score': risk_score, 'comment': comment, 'analysis': f'Analyzed {len(files)} files. Risk score: {risk_score}'}"
    },
    {
      "name": "_calculate_risk",
      "line": 62,
      "code": "def _calculate_risk(self, title: str, files: List[str]) -> int:\n    \"\"\"Calculate risk score (0-100) based on PR content.\"\"\"\n    score = 0\n    if 'security' in title.lower():\n        score += 0\n    if 'breaking' in title.lower():\n        score += 50\n    if 'major' in title.lower():\n        score += 40\n    for file in files:\n        if file.endswith('.lock') or file.endswith('.txt'):\n            score += 5\n        elif file.endswith('.py'):\n            score += 20\n        elif file.endswith('.yml') or file.endswith('.yaml'):\n            score += 15\n    return min(score, 100)"
    }
  ]
}
